# 機能拡張ロードマップ (旧v0モック分析)

## 概要

v0モックサイト (<https://v0-steel-eight.vercel.app/>) との比較分析に基づく機能拡張アイデア集。
主要機能は実装完了済み（v0.2.2）ですが、今後の追加機能検討の参考資料として保持。

## 📊 実装状況サマリー

| カテゴリ | 実装済み | 未実装 | 部分実装 |
|---------|---------|--------|----------|
| **ページ** | 17 | 0 | 0 |
| **コア機能** | 12 | 0 | 2 |
| **UI/UX機能** | 12 | 0 | 1 |
| **Next.js特殊ページ** | 7 | 0 | 0 |
| **詳細ページ機能** | 12 | 14 | 0 |

**総TODO項目数**: **14個** (27個完了)

---

## 🚫 **未実装機能** (優先度付き)

### 🟡 **MEDIUM Priority - ユーザー機能**

#### 1. User Profile Page (`/users/me`)

- **v0内容**:
  - マイページ機能 (詳細不明、404で確認できず)
  - ユーザープロフィール表示
  - 作成したボタン一覧
  - お気に入り管理
- **現状**: 認証は実装済み、プロフィールページなし
- **必要性**: ⭐⭐⭐ (ユーザーエンゲージメント)
- **実装工数**: 大 (認証連携・データ表示・CRUD機能)

### 🟠 **部分実装・機能拡張が必要**

#### 2. Login Page Enhancements (`/login`)

- **v0内容**:
  - Discord ログイン ✅ (実装済み)
  - Google ログイン「準備中」表示
  - 利用規約・プライバシーポリシー同意
  - 機能説明（ボタン作成・お気に入り・評価）
- **現状**: Discord認証のみ、シンプルなSignInページ
- **ギャップ**:
  - Google認証オプション
  - 利用規約同意フロー
  - 機能説明の充実
- **必要性**: ⭐⭐ (認証オプション拡張)
- **実装工数**: 中

---

## ✅ **実装済みページ** (確認済み)

1. **Home Page** (`/`) ✅
2. **Videos List** (`/videos`) ✅
3. **Audio Buttons** (`/buttons`) ✅
4. **Works List** (`/works`) ✅
5. **Video Detail** (`/videos/[id]`) ✅
6. **Button Detail** (`/buttons/[id]`) ✅
7. **Work Detail** (`/works/[id]`) ✅
8. **Auth Error Page** (`/auth/error`) ✅
9. **About Page** (`/about`) ✅ **(2025/06/27 実装)**
10. **Contact Page** (`/contact`) ✅ **(2025/06/27 実装)**
11. **Terms of Service** (`/terms`) ✅ **(2025/06/27 実装)**
12. **Privacy Policy** (`/privacy`) ✅ **(2025/06/27 実装)**

---

## 🔍 **詳細ページ機能ギャップ分析**

### 📹 **動画詳細ページ** (`/videos/[id]`)

#### ✅ **実装済み機能**

- ✅ パンくずナビゲーション
- ✅ 動画サムネイル・タイトル・説明文
- ✅ 配信種別バッジ (配信中・配信予告・配信アーカイブ・動画)
- ✅ YouTube視聴・共有・シェア機能
- ✅ 音声ボタン作成機能 (条件付き)
- ✅ 該当動画の音声ボタン一覧表示
- ✅ チャンネル情報表示
- ✅ ハッシュタグ抽出・表示

#### 🔴 **v0モックにあって未実装の機能**

- ❌ **視聴回数表示** - v0: "15,420 回視聴" / 現実装: 固定値 "15,420 回視聴"
- ❌ **動画時間表示** - v0: "1:23:45" / 現実装: 時間情報なし
- ❌ **コメント機能** - v0: 音声ボタンにコメント機能あり
- ❌ **関連動画推奨** - 現実装: "関連動画はまだありません" (プレースホルダー)
- ❌ **動画評価機能** - v0: いいね・評価システム

### 🎵 **作品詳細ページ** (`/works/[id]`)

#### ✅ **実装済み機能**

- ✅ パンくずナビゲーション
- ✅ 作品サムネイル・タイトル・説明
- ✅ 価格情報 (セール価格・割引率)
- ✅ 評価・レビュー数表示
- ✅ 販売数・発売日情報
- ✅ タグ表示
- ✅ DLsite購入リンク
- ✅ 共有機能
- ✅ サークル情報・声優情報
- ✅ 技術仕様表示

#### 🔴 **v0モックにあって未実装の機能**

- ❌ **ユーザー評価機能** - v0: ユーザーが評価可能 / 現実装: 表示のみ
- ❌ **お気に入り登録** - v0: "Add to favorites/10-best list" / 現実装: なし
- ❌ **非表示機能** - v0: "Mark as disliked/hide" / 現実装: なし
- ❌ **レビュー・コメント** - v0: "234 reviews" 詳細表示 / 現実装: 件数のみ
- ❌ **関連作品推奨** - 現実装: "他の作品を見る（準備中）" (プレースホルダー)
- ❌ **ランキング履歴詳細** - 現実装: 最新順位のみ表示

### 🔊 **ボタン詳細ページ** (`/buttons/[id]`)

#### ✅ **実装済み機能**

- ✅ パンくずナビゲーション
- ✅ ボタンタイトル・説明文
- ✅ カテゴリ・タグ表示
- ✅ 作成日時・再生時間
- ✅ 元動画情報・リンク
- ✅ YouTube Player統合
- ✅ 音声ボタン再生機能
- ✅ 関連音声ボタン (同じ動画)

#### 🔴 **v0モックにあって未実装の機能**

- ❌ **再生統計** - v0: "12,340 total plays" / 現実装: なし
- ❌ **お気に入り統計** - v0: "456 favorites" / 現実装: なし
- ❌ **コメント機能** - v0: "1,234 comments" / 現実装: なし
- ❌ **ボタン作成者情報** - v0: 作成者プロフィール・統計 / 現実装: なし
- ❌ **ファイル情報** - v0: "MP3, 48 KB" / 現実装: なし
- ❌ **ボタンID表示** - v0: "#1" / 現実装: なし

---

## 🎯 **機能レベルでの比較分析**

### 🟢 **実装済み機能**

#### コア機能

- ✅ YouTube動画一覧・詳細
- ✅ DLsite作品一覧・詳細
- ✅ 音声ボタン作成・再生
- ✅ Discord認証
- ✅ 動画・作品・ボタンの検索
- ✅ ページネーション
- ✅ ソート機能 (新しい順・古い順・価格・評価)
- ✅ レスポンシブデザイン

#### UI/UX機能

- ✅ suzuka/minaseカラーパレット
- ✅ グリッドレイアウト
- ✅ カルーセル表示
- ✅ ローディング状態
- ✅ モバイル対応
- ✅ アクセシビリティ対応

### 🔴 **未実装機能**

#### ユーザー機能

- ❌ お気に入り登録・管理
- ❌ 作品評価機能
- ❌ ユーザープロフィール管理
- ❌ マイページ

#### コミュニティ機能

- ✅ **お問い合わせフォーム** (2025/06/27 実装)
- ✅ **FAQ管理** (Contact页面内包含)
- ✅ **バグ報告システム** (Contact表单分类)
- ✅ **機能要望システム** (Contact表单分类)

#### UI/UX強化

- ❌ リアルタイム通知
- ❌ Google認証
- ❌ 利用規約同意フロー
- ❌ 多言語対応準備
- ❌ AIタグ機能 (将来機能)
- ❌ ファンイベント機能 (将来機能)

#### エラーハンドリング・特殊ページ

- ❌ Global 404 Page (Next.js標準)
- ❌ Global Error Page
- ❌ Route-specific Loading Pages
- ❌ Route-specific Error Pages

#### 詳細ページ機能強化

- ❌ ユーザーインタラクション (お気に入り・評価・コメント)
- ❌ 統計・メトリクス表示
- ❌ 関連コンテンツ推奨
- ❌ 詳細メタデータ表示

### 🟡 **部分実装・改善余地**

#### 検索・フィルター機能

- 🟡 **動画ページ**: ソート機能実装済み、カテゴリフィルターは未実装
- 🟡 **ボタンページ**: 基本検索あり、タグフィルター・長さソートは未実装
- 🟡 **作品ページ**: ソート機能実装済み、詳細フィルターは限定的

---

## 📋 **実装推奨順序** (更新版)

### ✅ **Phase 1 完了** (2025/06/27)

- ✅ **Terms of Service** - 法的保護 (完了)
- ✅ **Privacy Policy** - コンプライアンス (完了) 
- ✅ **About Page** - ユーザー理解促進 (完了)
- ✅ **Contact Page** - ユーザーサポート体制 (完了)

### ✅ **Phase 2 完了** (2025/06/27)

- ✅ **Global Not Found Page** - Next.js標準機能 (完了)
- ✅ **Global Error Page** - 予期しないエラー対応 (完了)

### ✅ **Phase 3 完了** (2025/06/27)

- ✅ **Route-specific Loading Pages** - UX向上 (完了)
- ✅ **Route-specific Error Pages** - きめ細かいエラーハンドリング (完了)

### Phase 4: ユーザーエンゲージメント

4. **User Profile Page** - ユーザー体験向上
5. **お気に入り機能** - ユーザーリテンション
6. **作品評価機能** - コミュニティ活性化

### Phase 5: 詳細ページ機能強化

7. **コメント機能** - 動画・ボタン詳細ページ
8. **統計表示** - 再生回数・お気に入り数
9. **関連コンテンツ推奨** - 全詳細ページ

### Phase 6: 認証・機能拡張

10. **Google認証** - 認証オプション拡張
11. **利用規約同意フロー** - 法的コンプライアンス強化
12. **Route-specific Error Pages** - きめ細かいエラーハンドリング

---

## 💡 **実装時の考慮事項**

### 法的要件

- Terms/Privacyページは法務確認が必要
- GDPR・個人情報保護法への準拠
- Cookie同意機能の検討

### 技術要件

- お問い合わせフォーム: メール送信機能 (SendGrid/AWS SES等)
- ユーザー機能: Firestoreスキーマ拡張
- 認証拡張: NextAuth.js設定追加

### 運用要件

- FAQ管理インターフェース
- お問い合わせ対応フロー
- ユーザーサポート体制

### Next.js特殊ページ実装指針

#### デザイン統一性

- **suzuka/minaseカラーパレット採用** - ブランド一貫性
- **共通ナビゲーション** - ホーム復帰・検索・人気ページ案内
- **レスポンシブ対応** - モバイル・デスクトップ統一体験

#### エラーハンドリング戦略

- **段階的フォールバック** - ルート固有→グローバル→最終的復旧
- **ユーザーガイダンス** - 明確なエラーメッセージ + 次のアクション提示
- **データ保護** - エラー時でも機密情報を漏洩させない

#### パフォーマンス考慮

- **軽量読み込み状態** - スケルトンUI・スピナー最適化
- **エラー境界** - 部分的エラーでアプリ全体を停止させない
- **キャッシュ活用** - 静的エラーページの効率的配信

### データベーススキーマ拡張

- **ユーザーインタラクション**: お気に入り・評価・コメントテーブル
- **統計情報**: 再生回数・エンゲージメントカウンター
- **関連性計算**: 推奨アルゴリズム用データ

### API拡張

- **YouTube Data API**: 視聴回数・動画時間取得
- **リアルタイム統計**: Firestore onSnapshot
- **推奨エンジン**: 類似度計算・フィルタリング

### パフォーマンス最適化

- **統計情報キャッシュ**: 頻繁更新データのキャッシュ戦略
- **無限スクロール**: 関連コンテンツの段階的読み込み
- **遅延読み込み**: 重いコンポーネントの最適化

---

## 📊 **工数見積もり** (概算)

| Phase | 項目 | 工数 | 重要度 | 状況 |
|-------|------|------|--------|------|
| ~~1~~ | ~~Terms/Privacy/About/Contact~~ | ~~1-2週間~~ | ⭐⭐⭐⭐⭐ | ✅ **完了** |
| 2 | Next.js基本機能 | 1週間 | ⭐⭐⭐⭐⭐ | 📋 **次のTODO** |
| 3 | Loading Pages | 1週間 | ⭐⭐⭐⭐ | 📋 TODO |
| 4 | User Profile/お気に入り | 3-4週間 | ⭐⭐⭐ | 📋 TODO |
| 5 | 詳細ページ機能強化 | 2-3週間 | ⭐⭐⭐ | 📋 TODO |
| 6 | 認証拡張・機能強化 | 2-3週間 | ⭐⭐ | 📋 TODO |

**残り総工数**: 9-14週間 (個人開発ベース)

---

## 📝 **実装履歴**

### 2025年6月27日実装完了

#### ✅ **Phase 1: 必須静的ページ** (4ページ完了)

1. **About Page** (`/about`)
   - サイト目的・主要機能紹介
   - 個人運営の免責事項
   - suzuka/minaseブランドカラー採用

2. **Contact Page** (`/contact`) 
   - 包括的お問い合わせフォーム (バグ報告・機能要望・使い方・その他)
   - react-hook-form + Zod バリデーション
   - Firestore統合 (IPアドレス・UserAgent自動収集)
   - FAQ セクション (よくある質問4項目)

3. **Terms of Service** (`/terms`)
   - 7セクション構成 (基本方針・免責・禁止事項・著作権・アカウント・規約変更・準拠法)
   - 個人運営レベルでの法的保護
   - 涼花みなせファン活動としての位置づけ明記

4. **Privacy Policy** (`/privacy`)
   - 9セクション構成 (基本方針・収集情報・利用目的・第三者サービス・Cookie・データ管理・ユーザー権利・国際転送・変更)
   - 日本個人情報保護法準拠
   - GDPR配慮事項
   - GCP・Discord・YouTube・DLsite連携の詳細説明

#### 🔧 **技術実装**

- **型安全性**: 全ページでZodスキーマ活用
- **デザインシステム**: suzuka/minaseカラーパレット統一
- **アクセシビリティ**: 適切なHTML構造・ラベリング
- **SEO対応**: メタデータ・構造化データ
- **モバイル対応**: 完全レスポンシブデザイン
- **Firestore統合**: Contact API (`/api/contact`) 
- **スパム対策**: IPアドレストラッキング・レート制限

#### 📊 **Contact Form 機能詳細**

- **分類システム**: バグ報告・機能要望・使い方・その他
- **動的プレースホルダー**: カテゴリ別の入力ガイド
- **バリデーション**: 件名(1-100文字)・内容(10-2000文字)・メール(任意)
- **送信制限**: スパム防止のためIP別制限
- **成功フィードバック**: 送信完了UI・新規送信リセット

---

#### ✅ **Phase 2/3: Next.js標準機能** (6ファイル完了)

5. **Not Found Page** (`/not-found.tsx`)
   - アニメーション付き404デザイン
   - suzuka/minaseグラデーション
   - 人気ページへのナビゲーション
   - SEOメタデータ対応

6. **Global Error Page** (`/global-error.tsx`)
   - エラー境界実装
   - エラー報告リンク
   - 開発環境でのスタックトレース表示
   - suzuka/minaseブランディング

7. **Route Loading Pages** (3ファイル)
   - videos/loading.tsx - 動画一覧スケルトン
   - works/loading.tsx - 作品一覧スケルトン
   - buttons/loading.tsx - 音声ボタンスケルトン

8. **Route Error Pages** (3ファイル)
   - videos/error.tsx - 動画エラーハンドリング
   - works/error.tsx - 作品エラーハンドリング
   - buttons/error.tsx - 音声ボタンエラーハンドリング

## 🎯 **次のTODO (Phase 4)**

### ユーザーエンゲージメント機能

1. **User Profile Page** (`/users/me`)
   - ユーザープロフィール表示
   - 作成したボタン一覧
   - お気に入り管理
   - 統計情報表示

**予想工数**: 3-4週間 (認証連携・CRUD機能)

---

*このドキュメントは v0モック (<https://v0-steel-eight.vercel.app/>) の2025年6月27日時点での内容に基づいています。*