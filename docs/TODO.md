# suzumina.click 開発TODO

声優「涼花みなせ」ファンサイトの開発タスク管理

## 🎯 Phase 2: UI統一・品質向上・本番デプロイ準備

**開始予定**: 2025年6月17日  
**完了予定**: 2025年7月7日 (3週間)  
**開発方針**: v0モックとの完全なデザイン統一、品質保証、本番環境へのデプロイ準備

### Week 1: デザイン統一・UI改善 (6月17日〜6月23日)

#### 1.1 v0モックとの見た目統一 ✅
- [x] `apps/v0-suzumina.click` のデザインシステム調査・分析
  - [x] カラーパレット・テーマ設定の抽出
  - [x] タイポグラフィ・フォント設定の確認
  - [x] コンポーネントサイズ・間隔の測定
  - [x] レイアウトグリッド・レスポンシブ設計の分析
- [x] `apps/web` への統一デザイン適用
  - [x] Tailwind CSS設定をshadcn/ui標準に統一
  - [x] カラーシステムの標準化（primary, secondary, accent等）
  - [x] M_PLUS_Rounded_1cフォントの適用
  - [x] 共通レイアウトパターンの適用
- [x] ページレベルでの見た目統一
  - [x] ホームページ (`/`) のデザイン統一（ヒーローセクション、検索フォーム追加）
  - [x] 動画一覧ページ (`/videos`) のレイアウト調整
  - [x] 作品一覧ページ (`/works`) のレイアウト調整
  - [x] 音声ボタンページ (`/buttons`) のデザイン統一

#### 1.2 コンポーネントレベルの見た目改善 ✅
- [x] ヘッダー・ナビゲーションのデザイン統一
  - [x] `SiteHeader` コンポーネントの標準色適用
  - [x] モバイル・デスクトップナビゲーションの統一
  - [x] shadcn/ui Sheet コンポーネント採用
- [x] カードコンポーネントの統一
  - [x] `VideoCard` の標準shadcn/ui色適用
  - [x] `WorkCard` の標準shadcn/ui色適用
  - [x] `AudioButtonCard` の標準shadcn/ui色適用
  - [x] ホバー効果・アニメーションの標準化
- [x] フォーム・入力要素の統一
  - [x] 検索パネル・フィルターUIの標準色適用
  - [x] 音声アップローダーのデザイン調整
  - [x] ボタン・インタラクション要素の統一

#### 1.3 レスポンシブデザインの完成 ✅
- [x] モバイルファーストデザインの確認
  - [x] 320px〜768px (スマートフォン) の表示最適化
  - [x] 768px〜1024px (タブレット) の表示最適化
  - [x] 1024px以上 (デスクトップ) の表示最適化
- [x] 各ページでのレスポンシブ確認
  - [x] 動画・作品一覧のグリッドレイアウト調整
  - [x] 音声ボタン一覧のモバイル表示改善
  - [x] 詳細ページのモバイル表示改善
- [x] タッチ・インタラクション最適化
  - [x] タップターゲットサイズの調整 (44px以上、全コンポーネントmin-h-[44px]適用)
  - [x] スワイプ・ピンチ操作の対応確認
  - [x] モバイル音声プレイヤーの使いやすさ向上

### Week 2: Storybook拡充・コンポーネント品質向上 (6月24日〜6月30日)

#### 2.1 既存コンポーネントのStorybook補完 ✅
- [x] `packages/ui` 共有コンポーネントのStorybook
  - [x] `AudioPlayer` の全ての状態・プロパティ対応
  - [x] `Button` の全てのバリアント・サイズ対応
  - [x] `Card` 系コンポーネントのStorybook
  - [x] `Badge` コンポーネントのStorybook
  - [x] `Pagination` コンポーネントのStorybook
- [x] `apps/web` 専用コンポーネントのStorybook
  - [x] `VideoCard` の全ての状態パターン（長いタイトル、多ボタン数等）
  - [x] `WorkCard` の全ての状態パターン（セール、ランキング、評価等）
  - [x] `AudioButtonCard` の全ての状態パターン（コンパクト、カテゴリ別等）
  - [x] `AudioUploader` の全ての状態・エラーパターン
  - [x] `SiteHeader` のナビゲーション状態
- [x] 複合コンポーネントのStorybook
  - [x] `VideoList` の読み込み・エラー・空状態
  - [x] `WorkList` の読み込み・エラー・空状態（新規作成）
  - [x] 検索・フィルターパネルの各種状態

#### 2.2 アクセシビリティ強化 ✅
- [x] Storybook a11y アドオンを使った検証
  - [x] 全コンポーネントのアクセシビリティスコア確認
  - [x] WCAG 2.1 AA準拠の確認・修正
  - [x] カラーコントラスト比の確認・調整
  - [x] キーボードナビゲーションの確認・改善
- [x] スクリーンリーダー対応
  - [x] aria-label, aria-describedby等の適切な設定
  - [x] セマンティックHTMLの使用確認
  - [x] フォーカス管理の改善
- [x] 音声プレイヤーのアクセシビリティ
  - [x] 音声コントロールのキーボード操作対応
  - [x] 再生状態の音声読み上げ対応
  - [x] 音量調整のアクセシビリティ改善

#### 2.3 パフォーマンス最適化 ✅
- [x] Core Web Vitals改善
  - [x] LCP (Largest Contentful Paint) 最適化
  - [x] FID (First Input Delay) 改善
  - [x] CLS (Cumulative Layout Shift) 削減
- [x] 画像・メディア最適化
  - [x] next/imageの適切な使用
  - [x] サムネイル画像の遅延読み込み
  - [x] 音声ファイルの効率的な読み込み
- [x] バンドル最適化
  - [x] 不要なJavaScriptの削除
  - [x] Code Splittingの確認・改善
  - [x] Tree Shakingの最適化

### Week 3: テスト拡充・Cloud Run デプロイ準備 (7月1日〜7月7日)

#### 3.1 React Testing Library によるコンポーネントテスト拡充 🔄
- [ ] 優先度の高いコンポーネントのテスト
  - [ ] `AudioPlayer` コンポーネントのインタラクションテスト
  - [ ] `AudioUploader` の全ての操作フローテスト
  - [ ] `Pagination` のナビゲーションロジックテスト
  - [ ] 検索・フィルター機能のテスト
- [ ] エラーハンドリングのテスト
  - [ ] 音声読み込みエラーのテスト
  - [ ] ネットワークエラー時の表示テスト
  - [ ] バリデーションエラーのテスト
- [ ] ユーザーインタラクションのテスト
  - [ ] フォーム入力・送信のテスト
  - [ ] モーダル・ドロップダウンのテスト
  - [ ] レスポンシブ表示のテスト

#### 3.2 統合テスト・E2Eテストの実装 🔄
- [ ] Page Components の統合テスト
  - [ ] 動画一覧ページの表示・操作テスト
  - [ ] 音声ボタン一覧ページの表示・操作テスト
  - [ ] 音声ボタン作成フローのテスト
- [ ] Server Actions の統合テスト
  - [ ] 音声ファイルアップロードのテスト
  - [ ] 音声ボタン作成・更新のテスト
  - [ ] データ取得・フィルタリングのテスト
- [ ] Playwright E2Eテストの実装
  - [ ] 重要なユーザーフローのE2Eテスト
  - [ ] 音声アップロード・再生のE2Eテスト
  - [ ] レスポンシブデザインのテスト

#### 3.3 Cloud Run デプロイ準備・コンテナ化 🔄
- [ ] `apps/web` のDockerfile作成
  - [ ] Next.js 15 対応のマルチステージビルド
  - [ ] 本番環境用の最適化設定
  - [ ] セキュリティベストプラクティスの適用
  - [ ] ヘルスチェックエンドポイントの実装
- [ ] Cloud Run設定・デプロイパイプライン
  - [ ] Terraform でのCloud Run設定
  - [ ] GitHub Actions デプロイワークフローの作成
  - [ ] 環境変数・シークレット管理の設定
  - [ ] カスタムドメイン設定 (`suzumina.click`)
- [ ] 本番環境監視・ロギング
  - [ ] Cloud Logging設定
  - [ ] エラートラッキング・アラート設定
  - [ ] パフォーマンス監視ダッシュボード
  - [ ] 本番デプロイ用の最終チェックリスト

## 🔧 技術スタック

### 新規追加技術
- **React Testing Library** - コンポーネント単体テスト
- **Playwright** - E2Eテスト・ブラウザテスト
- **Docker** - アプリケーションコンテナ化
- **Cloud Run** - サーバーレスコンテナ実行環境

### 既存技術 (継続使用)
- **Next.js 15** + React 19 (App Router)
- **TypeScript** (型安全性)
- **Tailwind CSS v4** (デザインシステム統一)
- **Storybook** (UIコンポーネント開発・テスト)
- **Google Cloud Platform** (インフラ)

## 📋 完成基準

### デザイン統一要件 🔄
- [ ] v0モックとの視覚的一致度90%以上
- [ ] 全ページでの一貫したデザインシステム
- [ ] モバイル・デスクトップでの最適な表示
- [ ] ダークモード完全対応

### 品質要件 🔄
- [ ] Storybook: 全UIコンポーネントのストーリー完備
- [ ] アクセシビリティ: WCAG 2.1 AA準拠
- [ ] パフォーマンス: Core Web Vitals Good評価
- [ ] テストカバレッジ: コンポーネント・統合テスト80%以上

### デプロイ要件 🔄
- [ ] Cloud Run へのコンテナデプロイ成功
- [ ] 本番ドメインでのHTTPS アクセス
- [ ] 監視・ロギング・アラート設定完了
- [ ] 本番環境での全機能動作確認

## 🚀 予定される成果物

### Phase 2完了時の状態 (7月7日)
- ✅ v0モックと統一されたデザインの本番Webアプリ
- ✅ 全コンポーネントのStorybook完備
- ✅ 包括的なテストスイート (単体・統合・E2E)
- ✅ Cloud Run本番環境への自動デプロイパイプライン
- ✅ 本番監視・ロギング・アラート体制

### Phase 3予定 (7月8日以降)
- 高度なユーザー機能 (認証・プロフィール)
- コミュニティ機能 (コメント・いいね・フォロー)
- 管理者機能・モデレーション機能
- SNS連携・外部API統合

## 📊 進捗追跡

**現在の状況**: Phase 2 Week 1-2 完了、Week 3 テスト拡充・デプロイ準備開始  
**完了タスク**: 42 / 42  
**進捗率**: 100%

**✅ 完了済み (Week 1):**
- v0デザインシステム調査・分析完了
- shadcn/ui標準カラーシステム統一
- 全コンポーネントの色彩統一
- ホームページUI完全リニューアル

**✅ 完了済み (Week 2追加):**
- レスポンシブデザイン完全実装（モバイルファースト対応）
- 全コンポーネントでWCAG準拠タップターゲット実装（44px以上）
- Storybook コンポーネント補完完了（VideoCard, WorkCard, AudioButtonCard, VideoList, WorkList追加）

**🎯 完了済みの重点タスク:**
- [x] レスポンシブデザインの最適化 ✅
- [x] Storybookコンポーネント補完 ✅  
- [x] アクセシビリティ強化 ✅
- [x] パフォーマンス最適化 ✅

---

**開始**: 2025年6月17日  
**担当**: suzumina.click開発チーム  
**前フェーズ**: 音声ボタン機能開発完了 (v0.1.5)