version = 1

test_patterns = [
  "**/*.test.*",
  "**/tests/**",
]

exclude_patterns = [
  "**/node_modules/**",
  "**/dist/**",
  "**/build/**",
  "**/.next/**",
  # "**/coverage/**", # カバレッジレポート自体は除外しない
  ".coverage/**", # ルートのカバレッジディレクトリを除外 (もしあれば)
  "**/.turbo/**",
  "**/.vercel/**",
  "iac/**",
  "*.tfstate",
  "*.tfstate.*",
  "*.tfvars",
  "**/.terraform/**",
  "*.pem",
  ".DS_Store",
  ".env",
  ".env.*",
  "*.log",
  ".pnp.js",
  ".pnp.loader.mjs",
]

[[analyzers]]
name = "javascript"
enabled = true

  [analyzers.meta]
  plugins = ["react"]
  environment = ["nodejs", "browser"]

[[analyzers]]
name = "typescript"
enabled = true

  [analyzers.meta]
  plugins = ["react"]
  environment = ["nodejs", "browser"]
  tsconfig_path = "apps/web/tsconfig.json"

# Test Coverage Analyzer
[[analyzers]]
name = "test-coverage"
enabled = true

  [analyzers.meta]
  coverage_file = "apps/web/coverage/lcov.info"
  format = "lcov"

# Secrets Analyzer
[[analyzers]]
name = "secrets"
enabled = true